/* eslint-disable no-param-reassign */
/*
 * Copyright Â© Bold Brand Commerce Sp. z o.o. All rights reserved.
 * See LICENSE for license details.
 */
import Vue from 'vue'; // eslint-disable-line import/no-extraneous-dependencies
import extendsModules from '~/.nuxt/extends.modules';

const ModuleLoader = {
    install(_Vue) {
        const extendComponents = Object.values(extendsModules)
            .reduce((acc, current) => ({ ...acc, ...current.extendComponents || {} }), {});

        _Vue.prototype.$getExtendedComponents = type => extendComponents[type];
    },
};
Vue.use(ModuleLoader);
